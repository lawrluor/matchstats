<!-- prints User representation in HTML given a User object, with route hyperlink to /user (profile), /region, /character. Used primarily in /browse_users -->

<tr>
    <td class="col-sm-3 text-center mobile-horizontal-overflow-td-col-3 horizontal-overflow">
        <a href="{{url_for("user", tag=user.tag)}}"><b>{{user.tag}}</b></a>
    </td>

    <td class="col-sm-3 text-center mobile-horizontal-overflow-td-col-3">
        {% if user.region %}
    	   <a href="{{url_for("region", region=user.region)}}"><b>{{user.region}}</b></a>
    	{% else %}
	       No Region
	    {% endif %}
    </td>

    <td class="col-sm-3 text-center mobile-horizontal-overflow-td-col-3">
    	{% if user.main %}
            {% set character_name = user.main %}
            {% include 'char_icon.html'%}
        {% else %}
            {% set character_name = "Unknown" %}
            {% include 'char_icon.html' %}
        {% endif %}
    </td>

    <td class="col-sm-3 text-center mobile-horizontal-overflow-td-col-3">
        {% if user.trueskills %}
            {% if current_region=="Global" or current_region=="National" %}
                {{user.trueskills[0].cons_mu|round(4, 'common')}}
            {% else %}
                {% if user.trueskills[1] %}
                    {{user.trueskills[1].cons_mu|round(4, 'common')}}
                {% endif %}
            {% endif %}
        {% endif %}
    </td>

    <!-- different ways of representing User based on # of secondaries User has. pay close attention to characters that are printed outside of the variables -->

    <!-- In current version (1.0), Secondaries not displayed
    <td class="col-sm-3">
    {% set user_secondaries = user.get_secondaries() -%}
        {% if user_secondaries|length > 3 %}
        	 | [ 
            <a href="{{url_for("character", character=user_secondaries[1])}}">{{user_secondaries[1]}}</a>, 
            <a href="{{url_for("character", character=user_secondaries[2])}}">{{user_secondaries[2]}}</a>,  
            <a href="{{url_for("character", character=user_secondaries[3])}}">{{user_secondaries[3]}}</a>
            ... ]
        {% elif user_secondaries|length < 1 %}
            None
        {% else %}
        	| [
    		{% for i in range(user_secondaries|count) %}
        		{% if i == (user_secondaries|count - 1) %}
    				<a href="{{url_for("character", character=user_secondaries[i])}}">{{user_secondaries[i]}}</a>
        		{% else %}
    				<a href="{{url_for("character", character=user_secondaries[i])}}">{{user_secondaries[i]}}</a>, 
        		{% endif %}
        	{% endfor %}
    		]
       	{% endif %}
    -->
   </td>
</tr>
