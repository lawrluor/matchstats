{% extends "base.html" %}

{% block content %}
<div class="container">
  <div class="jumbotron">
    <h1>
      {{character}}
      {% set character_name = character %}
      {% include 'char_icon.html' %}
    </h1>
    <h2><b>Mains: </b>{{main_matching_users.total}}</h2>
    <h2><b>Secondaries: </b>{{secondaries_matching_users.total}}</h2>
  </div>

  <!-- Table for Users who main character -->
  <div class="panel panel-default">
    <div class="panel-heading">
      <h2><b>Users who main {{character}}</b></h2>
    </div>

    <div class="panel-body">
      <table class="table bootstrap-datatable table-hover">
        <thead>
          {% include 'user_display_head.html' %}
        </thead>

        <tbody>
          {% if main_matching_users.total < 1 %}
            There are no Users who currently main this character.
          {% else %}
            {% for user in main_matching_users.items %}
              {% include 'user_display.html' %}
            {% endfor %}
          {% endif %}
        </tbody>
      </table>
    
    <div class="text-center"><b>
      <!-- Pagination Navigation for User Mains -->
      {% if main_matching_users.has_prev %}<a href="{{ url_for('character', character=character, page=main_matching_users.prev_num) }}">&lt;&lt; Previous Page</a>{% endif %}

      {% if main_matching_users.has_prev and main_matching_users.has_next %} | {% endif %}

      {% if main_matching_users.has_next %}<a href="{{ url_for('character', character=character, page=main_matching_users.next_num) }}">Next Page &gt;&gt;</a>{% endif %}
    </b></div>

    </div>
  </div>
	
  <!-- Table for Users who secondary character -->
  <div class="panel panel-default">
    <div class="panel-heading">
      <h2><b>Users who secondary {{character}}</b></h3>
    </div>

    <div class="panel-body">
      <table class="table bootstrap-datatable table-hover">
        <thead>
          {% include 'user_display_head.html' %}
        </thead>

        <tbody>
          {% if secondaries_matching_users.total < 1 %}
            There are no Users who currently secondary this character.
          {% else %}
            {% for user in secondaries_matching_users.items %}
              {% include 'user_display.html' %}
            {% endfor %}
          {% endif %}
        </tbody>
      </table>

    <div class="text-center"><b>
      <!-- Pagination Navigation for User Mains -->
      {% if secondaries_matching_users.has_prev %}<a href="{{ url_for('character', character=character, page=secondaries_matching_users.prev_num) }}">&lt;&lt; Previous Page</a>{% endif %}

       {% if secondaries_matching_users.has_prev and secondaries_matching_users.has_next %} | {% endif %}

      {% if secondaries_matching_users.has_next %}<a href="{{ url_for('character', character=character, page=secondaries_matching_users.next_num) }}">Next Page &gt;&gt;</a>{% endif %}
    </b></div>

    </div>
  </div>
</div>
{% endblock %}
